% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tabulate_survey.R
\name{tabulate_survey}
\alias{tabulate_survey}
\alias{tabulate_binary_survey}
\title{Tabulate survey design objects by a categorical and another stratifying variable}
\usage{
tabulate_survey(x, var, strata = NULL, pretty = TRUE, wide = TRUE,
  digits = 1, method = "logit")

tabulate_binary_survey(x, ..., strata = NULL, keep = NULL,
  invert = FALSE, pretty = TRUE, wide = TRUE, digits = 1,
  method = "logit")
}
\arguments{
\item{x}{a survey design object}

\item{var}{the bare name of a categorical variable}

\item{strata}{a variable to stratify the results by}

\item{pretty}{if \code{TRUE}, default, the proportion and CI are merged}

\item{wide}{if \code{TRUE} (default) and strata is defined, then the results are
presented in a wide table with each stratification counts and estimates in
separate columns. If \code{FALSE}, then the data will be presented in a long
format where the counts and estimates are presented in single columns. This
has no effect if strata is not defined.}

\item{digits}{if \code{pretty = FALSE}, this indicates the number of digits used
for proportion and CI}

\item{method}{a method from \code{\link[survey:svyciprop]{survey::svyciprop()}} to calculate the confidence
interval. Defaults to "logit"}

\item{...}{binary variables for tabulation}

\item{keep}{a vector of binary values to keep}

\item{invert}{if \code{TRUE}, the kept values are rejected. Defaults to \code{FALSE}}
}
\value{
a tibble
}
\description{
Tabulate survey design objects by a categorical and another stratifying variable
}
\examples{
library(srvyr)
library(survey)
data(api)

# stratified sample
apistrat \%>\%
  as_survey_design(strata = stype, weights = pw) \%>\%
  tabulate_survey(stype, awards)

# long data
apistrat \%>\%
  as_survey_design(strata = stype, weights = pw) \%>\%
  tabulate_survey(stype, awards, wide = FALSE)

apistrat \%>\%
  as_survey_design(strata = stype, weights = pw) \%>\%
  tabulate_binary_survey(stype, awards, keep = c("Yes", "E"))

apistrat \%>\%
  as_survey_design(strata = stype, weights = pw) \%>\%
  tabulate_binary_survey(stype, awards, keep = c("Yes", "E"), invert = TRUE)
}
